# # Object Detection 
# 
# ## Russian License Plate Blurring
# 

# **TASK: Import the usual libraries you think you'll need.**

# In[1]:


import cv2
import numpy as np
import matplotlib.pyplot as plt
get_ipython().run_line_magic('matplotlib', 'inline')


# **TASK: Read in the car_plate.jpg file from the DATA folder.**

# In[2]:


img = cv2.imread('../DATA/car_plate.jpg')


# **TASK: Create a function that displays the image in a larger scale and correct coloring for matplotlib.**

# In[3]:


def display(img):
    fig = plt.figure(figsize=(10,8))
    ax = fig.add_subplot(111)
    new_img = cv2.cvtColor(img, cv2.COLOR_BGR2RGB)
    ax.imshow(new_img)


# In[4]:


display(img)


# **TASK: Load the haarcascade_russian_plate_number.xml file.**

# In[5]:


plate_cascade = cv2.CascadeClassifier('../DATA/haarcascades/haarcascade_russian_plate_number.xml')


# **TASK: Create a function that takes in an image and draws a rectangle around what it detects to be a license plate. Keep in mind we're just drawing a rectangle around it for now, later on we'll adjust this function to blur. You may want to play with the scaleFactor and minNeighbor numbers to get good results.**

# In[6]:


def detect_plate(img):
    
  
    plate_img = img.copy()
  
    plate_rects = plate_cascade.detectMultiScale(plate_img,scaleFactor=1.3, minNeighbors=3) 
    
    for (x,y,w,h) in plate_rects: 
        cv2.rectangle(plate_img, (x,y), (x+w,y+h), (0,0,255), 4) 
        
    return plate_img
    


# In[7]:


result = detect_plate(img)


# In[8]:


display(result)

